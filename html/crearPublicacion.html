<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Crear publicacion</title>
        <link rel="icon" href="../img/logo.png" type="image/x-icon">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap"
        rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        
        <link rel="icon" href="../img/logo.png" type="image/x-icon">
        <link rel="stylesheet" href="../css/crearPublicacion.css">
        <link rel="stylesheet" href="../css/nav.css">
        <script src="../js/nav.js" defer></script>
</head>
<body>
    <header>
        <nav>
            <ul class="menu">
                <li class="logo"><a class="contenedor_logo" href="#">
                        <img class="logo_img" src="../img/logo.png" alt="Logo de Koopa Archives">
                        <div class="logo_texto">
                            <h1>
                                <span class="logo_koopas">Koopa</span><br>
                                Archives
                            </h1>
                        </div>
                    </a></li>
                <li class="item especial"><a href="#">Home</a></li>
                <li class="item especial"><a href="#">About</a></li>
                <li class="item especial"><a href="#">Services</a></li>
                <li class="item especial"><a href="#">Features</a></li>
                <li class="item especial"><a href="#">Blog</a></li>
                <li class="item especial"><a href="#">Contact</a></li>
                <!-- <li class="item button especial2"><a class="perfil" href="#"><p><i class="fa-solid fa-user"></i></p><p>Perfil</p></a></li> -->
                <li class="item button especial2"><a href="#">Registrarse</a></li>
                <li class="item button secondary especial2"><a href="#">Iniciar Sesión</a></li>
                <li class="toggle"><a href="#"><i class="fas fa-bars"></i></a></li>
            </ul>
        </nav>
    </header>
    <main>
        <h3>Subir Nueva Publicación</h3>
        <form class="upload-form" id="upload-form">
            <div class="form-group">
                <label for="image-upload">Imagen:</label>
                <input type="file" id="image-upload" accept="image/*" required>
                <div class="image-preview" id="image-preview">
                    <span>Vista previa de la imagen</span>
                </div>
            </div>
            <div class="form-group">
                <label for="category">Categoría:</label>
                <select id="category" required>
                    <option value="">Selecciona una categoría</option>
                    <option value="mario-bros">Mario Bros</option>
                    <option value="pokemon">Pokemon</option>
                    <option value="animal-crossing">Animal Crossing</option>
                    <option value="zelda">Zelda</option>
                    <option value="otros">Otros</option>
                </select>
            </div>
            <div class="form-group">
                <label for="description">Descripción:</label>
                <textarea id="description" required></textarea>
            </div>
            <button type="submit" class="submit-btn">Publicar</button>
        </form>
    </main>
    <footer class="footer">
        <p>Hecho por Equipo: Batifamilia - &copy;Aplicaciones Web</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('upload-form');
            const imageUpload = document.getElementById('image-upload');
            const imagePreview = document.getElementById('image-preview');

            imageUpload.addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        imagePreview.innerHTML = `<img src="${e.target.result}" alt="Vista previa">`;
                    };
                    reader.readAsDataURL(file);
                } else {
                    imagePreview.innerHTML = '<span>Vista previa de la imagen</span>';
                }
            });

            form.addEventListener('submit', (e) => {
                e.preventDefault();
                const category = document.getElementById('category').value;
                const description = document.getElementById('description').value;

                // Aquí iría la lógica para enviar los datos al servidor
                console.log('Imagen:', imageUpload.files[0]);
                console.log('Categoría:', category);
                console.log('Descripción:', description);

                alert('Publicación enviada con éxito!');
                form.reset();
                imagePreview.innerHTML = '<span>Vista previa de la imagen</span>';
            });
        });
    </script>
</body>
</html>